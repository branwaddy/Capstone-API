{"ast":null,"code":"var _jsxFileName = \"/Users/brandonwaddy/capstone-api/front/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport User from './components/User';\nimport Loading from \"./components/Loading\";\nimport Repo from \"./components/Repo\";\nimport Search from \"./components/Search\";\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  // State for current user data\n  const [userData, setUserData] = useState({}); // State for current repo data\n\n  const [reposData, setReposData] = useState({}); // State for if search has loaded- default is 'not requested', and will then be a boolean during request\n\n  const [isLoaded, setLoaded] = useState('not requested'); // State for currently selected repo, contains data on repo\n\n  const [currRepo, setRepo] = useState(); // State for user has been found (exists) or not, works the same as 'isLoaded'\n\n  const [userFound, setFound] = useState('not requested'); // State for commit data of the current repo\n\n  const [currRepoCommits, setCommits] = useState(); // Function to search for user using username as paramater\n\n  const searchUser = name => {\n    // Search has technically begun so set isLoaded as false\n    setLoaded(false); // Get request to '/users/:name' endpoint, data sent back should be an array with the structure [userData, repoData]\n\n    fetch('/users/' + name).then(res => res.json()).then(result => {\n      // Set states\n      setUserData(result[0]);\n      setReposData(result[1]);\n      setLoaded(true);\n      /* Check if user exists, if the user does not exist, there should be a message at result[0].message saying the user\n      couldn't be found. If this message == null, the user has been found and we can set userFound to true.*/\n\n      if (result[0].message != null) {\n        setFound(false);\n      } else {\n        setFound(true);\n      }\n    }).catch(err => {\n      console.log(err);\n      setFound(false);\n    });\n  }; // Function that prepares to display data about a specific repo\n\n\n  const openRepo = e => {\n    /* Find data of specific repo by iterating through reposData until the clicked repo (e)'s id == to the iterated repo's id,\n    and find the index of this repo.*/\n    const index = reposData.findIndex(x => x.id == e.id); // Set currRepo to the repo at found index \n\n    setRepo(reposData[index]);\n    const commitUrl = reposData[index].commits_url.slice(0, -6);\n    console.log(commitUrl);\n    fetch('http://localhost:8080/repos/' + encodeURIComponent(commitUrl)).then(res => res.json()).then(result => {\n      // Set states\n      setCommits(result);\n      setLoaded(true);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: isLoaded ? /*#__PURE__*/_jsxDEV(Search, {\n          userFound: userFound,\n          searchUser: searchUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 43\n        }, this) : /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/user\",\n        element: /*#__PURE__*/_jsxDEV(User, {\n          userData: userData,\n          reposData: reposData,\n          isLoaded: isLoaded,\n          onClick: openRepo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/repo\",\n        element: /*#__PURE__*/_jsxDEV(Repo, {\n          repo: currRepo,\n          commits: currRepoCommits\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 36\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"FE2secXvCx5gf8gpgGc3mhrmkc8=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/brandonwaddy/capstone-api/front/src/App.js"],"names":["useState","User","Loading","Repo","Search","BrowserRouter","Routes","Route","App","userData","setUserData","reposData","setReposData","isLoaded","setLoaded","currRepo","setRepo","userFound","setFound","currRepoCommits","setCommits","searchUser","name","fetch","then","res","json","result","message","catch","err","console","log","openRepo","e","index","findIndex","x","id","commitUrl","commits_url","slice","encodeURIComponent"],"mappings":"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","sourcesContent":["import {useState} from \"react\"\nimport User from './components/User';\nimport Loading from \"./components/Loading\";\nimport Repo from \"./components/Repo\";\nimport Search from \"./components/Search\";\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\n\nfunction App() {\n  // State for current user data\n  const [userData, setUserData] = useState({});\n  // State for current repo data\n  const [reposData, setReposData] = useState({});\n  // State for if search has loaded- default is 'not requested', and will then be a boolean during request\n  const [isLoaded, setLoaded] = useState('not requested');\n  // State for currently selected repo, contains data on repo\n  const [currRepo, setRepo] = useState();\n  // State for user has been found (exists) or not, works the same as 'isLoaded'\n  const [userFound, setFound] = useState('not requested');\n  // State for commit data of the current repo\n  const [currRepoCommits, setCommits] = useState();\n\n  // Function to search for user using username as paramater\n  const searchUser = (name) =>{\n    // Search has technically begun so set isLoaded as false\n    setLoaded(false);\n    // Get request to '/users/:name' endpoint, data sent back should be an array with the structure [userData, repoData]\n    fetch('/users/' + name)\n    .then(res=> \n        res.json()\n    )\n    .then(result => {\n        // Set states\n        setUserData(result[0]);\n        setReposData(result[1]);\n        setLoaded(true);\n        /* Check if user exists, if the user does not exist, there should be a message at result[0].message saying the user\n        couldn't be found. If this message == null, the user has been found and we can set userFound to true.*/\n        if (result[0].message != null) {\n          setFound(false);\n        }\n        else {\n          setFound(true);\n        }\n    })\n    .catch(err=>{\n        console.log(err);\n        setFound(false);\n    })\n};\n\n// Function that prepares to display data about a specific repo\nconst openRepo = (e) => {\n  /* Find data of specific repo by iterating through reposData until the clicked repo (e)'s id == to the iterated repo's id,\n  and find the index of this repo.*/\n  const index = reposData.findIndex(x => x.id == e.id);\n  // Set currRepo to the repo at found index \n  setRepo(reposData[index]);\n  const commitUrl = reposData[index].commits_url.slice(0,-6);\n  console.log(commitUrl);\n  fetch('http://localhost:8080/repos/' + encodeURIComponent(commitUrl))\n    .then(res=> \n        res.json()\n    )\n    .then(result => {\n        // Set states\n        setCommits(result);\n        setLoaded(true);\n    })\n    .catch(err=>{\n        console.log(err);\n    })\n  }\n\n  return (\n    <BrowserRouter>\n    <Routes>\n      <Route path='/' element={isLoaded ? <Search userFound={userFound} searchUser={searchUser}/>:\n      <Loading />}/>\n      <Route path='/user' element= {\n      <User userData = {userData} reposData = {reposData} isLoaded = {isLoaded}  onClick = {openRepo}/>}/>\n      <Route path='/repo' element={<Repo repo={currRepo} commits={currRepoCommits}/>}/>\n    </Routes>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}